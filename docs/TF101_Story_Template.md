# 🎬 TF101 劇情設計模板（Story Template）

📅 建立日期：2025-03-25  
✍️ 編寫人員：Vanguard  
📁 儲存位置：`/docs/TF101_Story_Template.md`

---

## 📌 文件目的

本文件作為 TF101 所有劇情任務之標準撰寫模板，方便設計者快速架構任務劇情節點、分支邏輯、角色關係與場景配置。支援各類戰役還原、原創特戰行動、互動型任務設計。

---

## 📂 劇情基本資訊（Meta）

| 項目 | 說明 |
|------|------|
| 任務代號 | OP_XXXXX |
| 任務名稱 | 中文任務名稱 |
| 地圖 | 使用地圖名稱（如 Lythium / Takistan） |
| 陣營 | BLUFOR / OPFOR / INDFOR 等 |
| 玩家人數 | 建議 1~X 名玩家執行 |
| 任務類型 | 劇情任務 / 潛行任務 / 沙盒作戰等 |

---

## 🎭 劇情角色設定（Characters）

| 名稱 | 單位代碼 | 身份與定位 | 主要事件參與 |
|------|----------|--------------|----------------|
| Sgt. Allen | unit1 | 小隊領導、與 HQ 聯繫 | 初始簡報、撤離指令 |
| Pvt. Kelly | unit2 | 新人、觸發牧民事件 | 發現平民、選擇報告 |
| 牧民老爹 | civ1 | 中立 NPC、提供情報 | 被誤認為敵人時需判斷 |

---

## 🧩 劇情段落流程（Flow Chart）

```markdown
1️⃣ 小隊抵達前哨
   └ 接收 HQ 任務簡報
2️⃣ 夜間巡邏中遇平民
   ├─ 分支 A：放走 → 敵軍 30 分鐘後包圍
   └─ 分支 B：通報 → 任務提前遭襲
3️⃣ 敵軍突襲
   └ 選擇防守 or 向山區撤離
4️⃣ 空中支援到達
   └ 成功撤離 or 壯烈犧牲
```

---

## 🧠 互動分支設計（Decision Points）

### ✴️ 範例分支事件：放走 vs 通報

| 條件判斷 | 觸發語法 / 建議實作 | 分支影響 |
|----------|---------------------|-----------|
| 玩家靠近平民並選擇互動 | `addAction` + trigger / variable 記錄 | 決定後續敵軍行動樣式 |
| 設定變數 `civilianReleased = true;` | 在其他區域以此作為判斷依據 | 呼叫不同增援波次與任務節奏 |

---

## 🎥 劇情演出與視覺提示

| 類型 | 實作建議 |
|------|----------|
| 語音對話 | 使用 `say3D` 或 `playSound3D` 播放對應語音 |
| 任務字幕 | `BIS_fnc_showSubtitle` 搭配 subtitles.hpp 使用 |
| 畫面切換 | 使用 `titleCut` / `cutText` 提供畫面提示 |
| 簡報演出 | 使用 `BIS_fnc_exportGroup` 預設編組展示 |

---

## 🛠️ 可搭配模組建議

- Simplex：火力支援（空投 / 空襲）
- ALiVE：敵軍區域控制、任務目標設定
- ACE：提升互動體驗（醫療 / 對話 / 裝備）
- TFR：語音沉浸、角色區分
- 字幕整合：支援多國語言劇情提示（stringtable.xml）

---

## 📌 備註與版本控制

- 每次新增劇情段落，請補充版本紀錄與內容說明
- 每段流程建議建立對應 `Trigger`、`Variable` 與任務提示
- 所有任務流程建議納入 `.pbo` + `.md` 文字對照

---

未來可擴充：
- ✅ 原創角色設定庫（Character DB）
- ✅ 敘事型選單系統（對話選擇 UI）
- ✅ 分段式 VO 腳本製作手冊

讓每場任務像一部軍事電影，也像一份沉浸式的模擬劇本！🎬

